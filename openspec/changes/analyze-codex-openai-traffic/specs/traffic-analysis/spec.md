## ADDED Requirements

### Requirement: Parse Traffic Data
The system SHALL provide functionality to parse the structured traffic data (e.g., JSON, HAR) generated by the capture tool.

#### Scenario: Parse Valid File
- **WHEN** a valid traffic data file is provided
- **THEN** the system successfully reads and loads the request/response pairs into memory

#### Scenario: Handle Invalid File
- **WHEN** a malformed or invalid file is provided
- **THEN** the system reports an error indicating the file format is incorrect

### Requirement: Analyze Communication Patterns
The system SHALL analyze the parsed traffic to identify and summarize key communication patterns, such as request frequency, endpoint usage, and payload structures.

#### Scenario: Summarize Endpoint Usage
- **WHEN** analysis is run on a set of traffic data
- **THEN** the system outputs a summary of unique endpoints accessed and the count of requests to each

#### Scenario: Extract Payload Structure
- **WHEN** analysis is run on traffic data
- **THEN** the system identifies common keys and data types in the JSON payloads of requests and responses

### Requirement: Generate Analysis Report
The system SHALL generate a readable report (e.g., Markdown) summarizing the findings from the traffic analysis.

#### Scenario: Create Markdown Report
- **WHEN** analysis is complete
- **THEN** the system saves a Markdown file containing the summary of endpoints, request counts, and payload structures

#### Scenario: Include Full Conversation Log
- **WHEN** analysis is complete
- **THEN** the report includes a full conversation log section showing every captured request/response pair with:
  - Request headers (with sensitive values like Authorization redacted)
  - Full request body: model config, system instructions, input messages (each in collapsible sections), and tool definitions
  - Response headers
  - Full response body: parsed SSE events showing event types, content deltas, tool calls, and output items
- **AND** all request and response bodies are wrapped in Markdown code blocks (fenced with triple backticks), using `json` language annotation for JSON content
- **AND** long content (system instructions, message bodies) is wrapped in collapsible `<details>` sections to keep the report scannable
